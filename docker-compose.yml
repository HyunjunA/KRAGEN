services:
  kragen:
    extends:
      file: docker-compose-kragen.yml
      service: kragen
    depends_on:
      - weaviate
    networks:
      - kragen-net

  weaviate:
    extends:
      file: docker-compose-weaviate.yml
      service: weaviate
    networks:
      - kragen-net

  server:
    extends:
      file: docker-compose-server.yml
      service: server
    depends_on:
      - weaviate
    networks:
      - kragen-net

  gui:
    extends:
      file: docker-compose-gui.yml
      service: gui
    depends_on:
      - server
    networks:
      - kragen-net

networks:
  kragen-net:
    driver: bridge
